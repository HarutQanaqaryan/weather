(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(12),s=c.n(r),i=(c(17),c(7)),o=c(2),j=(c(18),c(8)),u=c(3),l=c(10),b=function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return e}},h=function(e){var t,c=new Date(e);return"".concat(c.getDate()," ").concat(b(c.getMonth())," ").concat(c.getFullYear()," ").concat(c.getHours(),":").concat((t=c.getUTCMinutes())<=9?"0"+t:t)},m=function(e){return Math.round(e-273.15)},d=c(1),O=function(e){var t=e.data,c=Object(n.useState)(),a=Object(u.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){s(t.map((function(e,t){return{id:t,open:!1}})))}),[t]);var i=function(e){s(r.map((function(t){return t.id===parseInt(e.currentTarget.id)?Object(l.a)(Object(l.a)({},t),{},{open:!t.open}):t})))};return Object(d.jsx)("div",{className:"data_block",children:t.map((function(e,t){return Object(d.jsxs)("div",{className:"weather_card",children:[Object(d.jsx)("h4",{className:"date",children:h(1e3*e.dt)}),Object(d.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"Weather Icon",className:"weather_icon"}),Object(d.jsxs)("h1",{className:"main_temp",children:[m(e.main.temp),"\xb0c"]}),Object(d.jsx)("h5",{className:"weather_desctription",children:e.weather[0].description}),Object(d.jsxs)("h5",{children:[Object(d.jsx)("span",{className:"desctription_header",children:"Feels Like "}),m(e.main.feels_like),"\xb0C"]}),Object(d.jsx)("button",{className:"more_details_btn",id:t,onClick:i,children:"More Details"}),r.some((function(e){return e.open&&e.id===t}))&&Object(d.jsxs)("div",{className:"weather_desctriptions",children:[Object(d.jsx)("b",{className:"temp_header",children:"Min Temp "}),Object(d.jsxs)("span",{className:"temp",children:[m(e.main.temp_min),"\xb0c"]}),Object(d.jsx)("br",{}),Object(d.jsx)("b",{className:"temp_header",children:"Max Temp "}),Object(d.jsxs)("span",{className:"temp",children:[m(e.main.temp_max),"\xb0c"]}),Object(d.jsxs)("b",{children:[Object(d.jsx)("span",{className:"desctription_header",children:"Humidity "}),e.main.humidity,"%"]}),Object(d.jsxs)("b",{children:[Object(d.jsx)("span",{className:"desctription_header",children:"Pressure "}),e.main.pressure,"hPa"]})]})]},t)}))})},p=function(e){var t=e.loading,c=e.cityName,n=e.data;return Object(d.jsxs)("div",{className:"wrapper_weather",children:[Object(d.jsx)("h2",{className:"city_name_header",children:c}),t&&Object(d.jsx)("div",{className:"loading"}),Object(d.jsx)("div",{className:"data_block",children:Object(d.jsx)(O,{data:n})})]})},f=function(e,t){return fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric\n              &cnt=").concat(t,"&appid=").concat("6a7c24bc3b75b3a53d16bcec8f105fec"))},x=(c(11),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(localStorage.getItem("city_name")||"Minsk"),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),b=Object(u.a)(l,2),h=b[0],m=b[1];Object(n.useEffect)((function(){return m(!0),f(i,40).then((function(e){return e.json()})).then((function(e){e.list.map((function(e){return a((function(t){return[].concat(Object(j.a)(t),[e])}))})),m(!1)})).catch((function(e){console.log(e)})),function(){a([])}}),[i]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{className:"search",placeholder:"Type city name...",value:i,onChange:function(e){e.preventDefault(),o(e.target.value)}}),Object(d.jsx)(p,{loading:h,cityName:i,data:c})]})}),_=a.a.memo(x),g=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(localStorage.getItem("city_name")||"Minsk"),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),b=Object(u.a)(l,2),h=b[0],m=b[1];Object(n.useEffect)((function(){return m(!0),f(i,17).then((function(e){return e.json()})).then((function(e){e.list.map((function(e,t){return t%8===0&&a((function(t){return[].concat(Object(j.a)(t),[e])}))})),m(!1)})).catch((function(e){console.log(e)})),function(){a([])}}),[i]);var O=function(e){e.preventDefault(),o(e.currentTarget.innerText),localStorage.setItem("city_name",e.currentTarget.innerText)};return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:O,className:"city_name_btn",children:"Minsk"}),Object(d.jsx)("button",{onClick:O,className:"city_name_btn",children:"Bratislava"}),Object(d.jsx)("button",{onClick:O,className:"city_name_btn",children:"Moscow"}),Object(d.jsx)(p,{loading:h,cityName:i,data:c})]})},N=a.a.memo(g);var v=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(i.b,{to:"/weather",className:"nav_btn",children:"Home"}),Object(d.jsx)(i.b,{to:"/search_weather",className:"nav_btn",children:"Search"}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"weather",element:Object(d.jsx)(N,{})}),Object(d.jsx)(o.a,{path:"search_weather",element:Object(d.jsx)(_,{})})]})]})};s.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.35586d3f.chunk.js.map